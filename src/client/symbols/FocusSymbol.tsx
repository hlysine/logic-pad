import { memo } from 'react';
import { cn } from '../uiHelper.ts';
import FocusSymbolData from '@logic-pad/core/data/symbols/focusSymbol';

export interface FocusProps {
  textClass: string;
  symbol: FocusSymbolData;
}

export default memo(function FocusSymbol({ textClass, symbol }: FocusProps) {
  return (
    <div
      className={cn(
        'absolute flex justify-center items-center w-full h-full pointer-events-none',
        textClass
      )}
    >
      {symbol.deadEnd ? (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 500 500"
          className="absolute m-auto"
        >
          <title>
            Dead end at ({symbol.x}, {symbol.y})
          </title>
          <path
            d="M 447.26 415.463 L 415.468 415.468 L 415.465 447.258 C 415.159 452.913 412.585 459.375 408.934 463.026 C 405.284 466.676 398.826 469.249 393.172 469.556 C 387.511 469.254 381.049 466.676 377.399 463.026 C 373.749 459.376 371.171 452.92 370.87 447.259 L 370.865 377.864 C 370.865 376.008 371.602 374.227 372.915 372.914 C 374.228 371.601 376.008 370.864 377.865 370.864 L 447.255 370.868 C 452.91 371.172 459.374 373.748 463.025 377.4 C 466.677 381.051 469.253 387.515 469.556 393.168 C 469.25 398.823 466.676 405.283 463.026 408.933 C 459.376 412.583 452.914 415.158 447.26 415.463 Z M 453.127 399.034 C 455.013 397.148 455.862 395.961 455.557 393.166 C 455.865 390.377 455.014 389.187 453.126 387.299 C 451.238 385.411 450.052 384.561 447.263 384.869 L 384.865 384.864 L 384.869 447.258 C 384.558 450.047 385.409 451.237 387.299 453.127 C 389.188 455.016 390.371 455.868 393.158 455.556 C 395.952 455.862 397.149 455.012 399.034 453.126 C 400.921 451.239 401.77 450.052 401.464 447.258 L 401.47 408.468 C 401.47 404.603 404.604 401.469 408.469 401.469 L 447.258 401.464 C 450.054 401.769 451.241 400.92 453.127 399.034 Z M 84.535 447.261 L 84.532 415.468 L 52.74 415.466 C 47.085 415.159 40.624 412.585 36.973 408.935 C 33.323 405.285 30.75 398.827 30.443 393.173 C 30.745 387.512 33.322 381.05 36.972 377.4 C 40.622 373.75 47.078 371.172 52.739 370.87 L 122.135 370.865 C 123.992 370.865 125.772 371.602 127.085 372.915 C 128.398 374.228 129.135 376.008 129.135 377.865 L 129.13 447.256 C 128.827 452.91 126.251 459.375 122.599 463.027 C 118.948 466.678 112.484 469.254 106.83 469.557 C 101.176 469.251 94.715 466.677 91.065 463.027 C 87.415 459.377 84.841 452.915 84.535 447.261 Z M 100.965 453.127 C 102.851 455.013 104.038 455.863 106.833 455.558 C 109.622 455.866 110.811 455.015 112.699 453.127 C 114.587 451.239 115.438 450.053 115.13 447.264 L 115.135 384.865 L 52.741 384.87 C 49.952 384.559 48.761 385.41 46.872 387.299 C 44.982 389.189 44.13 390.372 44.442 393.158 C 44.137 395.953 44.987 397.149 46.873 399.035 C 48.759 400.922 49.946 401.771 52.74 401.465 L 91.531 401.47 C 95.396 401.47 98.53 404.604 98.53 408.469 L 98.534 447.259 C 98.23 450.054 99.079 451.242 100.965 453.127 Z M 415.463 52.739 L 415.466 84.531 L 447.258 84.534 C 452.912 84.84 459.374 87.414 463.025 91.065 C 466.675 94.715 469.248 101.173 469.555 106.827 C 469.253 112.487 466.676 118.949 463.025 122.599 C 459.375 126.25 452.92 128.828 447.258 129.129 L 377.863 129.135 C 376.006 129.135 374.226 128.398 372.912 127.085 C 371.599 125.772 370.863 123.991 370.863 122.134 L 370.868 52.744 C 371.171 47.089 373.747 40.624 377.398 36.972 C 381.05 33.321 387.514 30.746 393.168 30.442 C 398.822 30.748 405.282 33.322 408.933 36.972 C 412.583 40.622 415.157 47.085 415.463 52.739 Z M 399.033 46.872 C 397.147 44.986 395.96 44.137 393.165 44.442 C 390.376 44.133 389.187 44.985 387.299 46.873 C 385.411 48.761 384.56 49.946 384.868 52.735 L 384.863 115.135 L 447.257 115.13 C 450.046 115.441 451.237 114.589 453.126 112.7 C 455.015 110.811 455.867 109.628 455.556 106.841 C 455.861 104.046 455.011 102.85 453.125 100.964 C 451.239 99.078 450.051 98.228 447.258 98.535 L 408.467 98.53 C 404.601 98.53 401.468 95.396 401.468 91.531 L 401.463 52.74 C 401.768 49.945 400.919 48.758 399.033 46.872 Z M 52.738 84.536 L 84.53 84.532 L 84.533 52.741 C 84.839 47.086 87.413 40.625 91.064 36.974 C 94.714 33.324 101.172 30.751 106.826 30.444 C 112.486 30.746 118.949 33.323 122.599 36.973 C 126.249 40.623 128.827 47.079 129.128 52.74 L 129.134 122.136 C 129.134 123.992 128.397 125.773 127.084 127.086 C 125.771 128.399 123.99 129.136 122.133 129.136 L 52.743 129.131 C 47.088 128.828 40.623 126.252 36.972 122.6 C 33.32 118.949 30.745 112.484 30.441 106.831 C 30.748 101.176 33.322 94.716 36.972 91.066 C 40.622 87.416 47.084 84.841 52.738 84.536 Z M 46.871 100.966 C 44.985 102.851 44.136 104.039 44.441 106.834 C 44.132 109.623 44.984 110.812 46.872 112.7 C 48.76 114.588 49.946 115.439 52.734 115.13 L 115.134 115.136 L 115.129 52.742 C 115.44 49.953 114.589 48.762 112.699 46.873 C 110.81 44.983 109.627 44.131 106.84 44.443 C 104.046 44.137 102.849 44.987 100.963 46.873 C 99.077 48.76 98.228 49.947 98.534 52.741 L 98.529 91.532 C 98.529 95.397 95.395 98.531 91.53 98.531 L 52.739 98.535 C 49.944 98.23 48.757 99.08 46.871 100.966 Z"
            fill="currentColor"
          ></path>
        </svg>
      ) : (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 500 500"
          className="absolute m-auto"
        >
          <title>
            {`Focus number ${symbol.number} at (${symbol.x}, ${symbol.y})`}
          </title>
          <path
            d="M 134.338 429.32 L 134.339 366.634 L 71.651 366.635 C 66.405 366.634 62.151 362.381 62.151 357.135 C 62.151 351.888 66.405 347.635 71.651 347.634 L 143.839 347.634 C 146.358 347.635 148.774 348.635 150.556 350.417 C 152.338 352.199 153.339 354.615 153.339 357.135 L 153.338 429.322 C 153.338 434.568 149.084 438.821 143.837 438.821 C 138.59 438.821 134.338 434.567 134.338 429.32 Z M 70.68 134.338 L 133.366 134.339 L 133.365 71.651 C 133.366 66.405 137.62 62.151 142.866 62.151 C 148.112 62.151 152.366 66.405 152.366 71.651 L 152.366 143.839 C 152.366 146.358 151.365 148.774 149.583 150.556 C 147.801 152.338 145.385 153.338 142.865 153.338 L 70.678 153.338 C 65.432 153.338 61.179 149.084 61.179 143.837 C 61.179 138.59 65.433 134.338 70.68 134.338 Z M 429.32 365.662 L 366.635 365.662 L 366.635 428.349 C 366.635 433.595 362.381 437.849 357.135 437.849 C 351.888 437.849 347.635 433.595 347.634 428.349 L 347.634 356.162 C 347.635 353.642 348.635 351.226 350.417 349.444 C 352.199 347.662 354.615 346.662 357.135 346.662 L 429.322 346.662 C 434.568 346.662 438.821 350.916 438.821 356.163 C 438.821 361.41 434.567 365.662 429.32 365.662 Z M 365.662 70.68 L 365.662 133.366 L 428.349 133.365 C 433.595 133.366 437.849 137.62 437.849 142.866 C 437.849 148.112 433.595 152.366 428.349 152.366 L 356.162 152.366 C 353.642 152.366 351.226 151.365 349.444 149.583 C 347.662 147.801 346.662 145.385 346.662 142.865 L 346.662 70.678 C 346.662 65.432 350.916 61.179 356.163 61.179 C 361.41 61.179 365.662 65.433 365.662 70.68 Z"
            fill="currentColor"
          ></path>
        </svg>
      )}
      {!symbol.deadEnd && (
        <span
          className={cn('absolute m-auto text-[0.6em]', textClass)}
          aria-hidden="true"
        >
          {symbol.number}
        </span>
      )}
    </div>
  );
});

export const id = 'focus';
