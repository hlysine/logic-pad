import { memo } from 'react';
import { cn } from '../uiHelper.ts';
import FocusSymbolData from '@logic-pad/core/data/symbols/focusSymbol';

export interface FocusProps {
  textClass: string;
  symbol: FocusSymbolData;
}

export default memo(function FocusSymbol({ textClass, symbol }: FocusProps) {
  return (
    <div
      className={cn(
        'absolute flex justify-center items-center w-full h-full pointer-events-none',
        textClass
      )}
    >
      {symbol.deadEnd ? (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 16 16"
          className="absolute m-auto"
        >
          <title>
            Dead end at ({symbol.x}, {symbol.y})
          </title>
          <path
            fillRule="evenodd"
            d="M 1.243 5.715 C 1.331 5.671 1.438 5.706 1.481 5.794 L 2.544 7.921 C 2.569 7.971 2.569 8.029 2.544 8.079 L 1.481 10.206 C 1.421 10.328 1.25 10.34 1.175 10.226 C 1.139 10.173 1.135 10.105 1.164 10.048 L 2.187 8 L 1.164 5.953 C 1.12 5.865 1.155 5.759 1.243 5.715 Z M 10.241 1.248 C 10.285 1.336 10.25 1.443 10.162 1.486 L 8.035 2.549 C 7.985 2.574 7.927 2.574 7.877 2.549 L 5.75 1.486 C 5.628 1.426 5.616 1.255 5.73 1.18 C 5.783 1.144 5.851 1.14 5.908 1.169 L 7.956 2.192 L 10.003 1.169 C 10.091 1.125 10.197 1.16 10.241 1.248 Z M 5.669 14.762 C 5.625 14.674 5.66 14.567 5.748 14.524 L 7.875 13.461 C 7.925 13.436 7.983 13.436 8.033 13.461 L 10.16 14.524 C 10.282 14.584 10.294 14.755 10.18 14.83 C 10.127 14.866 10.059 14.87 10.002 14.841 L 7.954 13.818 L 5.907 14.841 C 5.819 14.885 5.713 14.85 5.669 14.762 Z M 14.712 10.291 C 14.624 10.335 14.517 10.3 14.474 10.212 L 13.411 8.085 C 13.386 8.035 13.386 7.977 13.411 7.927 L 14.474 5.8 C 14.534 5.678 14.705 5.666 14.78 5.78 C 14.816 5.833 14.82 5.901 14.791 5.958 L 13.768 8.006 L 14.791 10.053 C 14.835 10.141 14.8 10.247 14.712 10.291 Z"
            fill="currentColor"
          ></path>
        </svg>
      ) : (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 500 500"
          className="absolute m-auto"
        >
          <title>
            {`Focus number ${symbol.number} at (${symbol.x}, ${symbol.y})`}
          </title>
          <path
            d="M 134.338 429.32 L 134.339 366.634 L 71.651 366.635 C 66.405 366.634 62.151 362.381 62.151 357.135 C 62.151 351.888 66.405 347.635 71.651 347.634 L 143.839 347.634 C 146.358 347.635 148.774 348.635 150.556 350.417 C 152.338 352.199 153.339 354.615 153.339 357.135 L 153.338 429.322 C 153.338 434.568 149.084 438.821 143.837 438.821 C 138.59 438.821 134.338 434.567 134.338 429.32 Z M 70.68 134.338 L 133.366 134.339 L 133.365 71.651 C 133.366 66.405 137.62 62.151 142.866 62.151 C 148.112 62.151 152.366 66.405 152.366 71.651 L 152.366 143.839 C 152.366 146.358 151.365 148.774 149.583 150.556 C 147.801 152.338 145.385 153.338 142.865 153.338 L 70.678 153.338 C 65.432 153.338 61.179 149.084 61.179 143.837 C 61.179 138.59 65.433 134.338 70.68 134.338 Z M 429.32 365.662 L 366.635 365.662 L 366.635 428.349 C 366.635 433.595 362.381 437.849 357.135 437.849 C 351.888 437.849 347.635 433.595 347.634 428.349 L 347.634 356.162 C 347.635 353.642 348.635 351.226 350.417 349.444 C 352.199 347.662 354.615 346.662 357.135 346.662 L 429.322 346.662 C 434.568 346.662 438.821 350.916 438.821 356.163 C 438.821 361.41 434.567 365.662 429.32 365.662 Z M 365.662 70.68 L 365.662 133.366 L 428.349 133.365 C 433.595 133.366 437.849 137.62 437.849 142.866 C 437.849 148.112 433.595 152.366 428.349 152.366 L 356.162 152.366 C 353.642 152.366 351.226 151.365 349.444 149.583 C 347.662 147.801 346.662 145.385 346.662 142.865 L 346.662 70.678 C 346.662 65.432 350.916 61.179 356.163 61.179 C 361.41 61.179 365.662 65.433 365.662 70.68 Z"
            fill="currentColor"
          ></path>
        </svg>
      )}
      {!symbol.deadEnd && (
        <span
          className={cn('absolute m-auto text-[0.6em]', textClass)}
          aria-hidden="true"
        >
          {symbol.number}
        </span>
      )}
    </div>
  );
});

export const id = 'focus';
